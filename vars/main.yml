---
_kernel_installation_location:
  Alpine: /boot/vmlinuz
  Debian: /boot/vmlinuz-{{ kernel_version }}*
  RedHat: /boot/vmlinuz
  Rocky: /boot/vmlinuz
  default: /boot/vmlinuz
_kernel_modules_location:
  Alpine: /lib/modules/{{ kernel_version }}*
  Debian: /lib/modules/{{ kernel_version }}*
  RedHat: /usr/lib/modules/{{ kernel_version }}*
  Rocky: /usr/lib/modules/{{ kernel_version }}*
  Suse: /lib/modules/{{ kernel_version }}*
  default: /usr/lib/modules/{{ kernel_version }}*
_kernel_requirements:
  Alpine:
    - bc
    - bison
    - diffutils
    - flex
    - elfutils-dev
    - openssl-dev
  Debian:
    - bc
    - bison
    - flex
    - libelf-dev
    - libssl-dev
  RedHat: &id001
    - bc
    - diffutils
    - flex
    - hostname
    - openssl-devel
  Rocky: *id001
  Suse:
    - bc
    - bison
    - flex
    - hostname
    - libelf-devel
    - openssl-devel
  default:
    - bc
    - bison
    - elfutils-libelf-devel
    - flex
    - openssl-devel
kernel_installation_location: "{{ _kernel_installation_location[ansible_os_family] | default(_kernel_installation_location['default']) }}"
kernel_modules_location: "{{ _kernel_modules_location[ansible_os_family] | default(_kernel_modules_location['default']) }}"
kernel_requirements: "{{ _kernel_requirements[ansible_os_family] | default(_kernel_requirements['default']) }}"
kernel_unarchive_creates: "{{ kernel_build_location }}/linux-{{ kernel_version }}"
kernel_unarchive_src: https://cdn.kernel.org/pub/linux/kernel/v{{ kernel_version[:1] }}.x/linux-{{ kernel_version }}.tar.xz
